<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>强哥的世界 - 爬虫</title><link href="https://www.shenzhongqiang.com/" rel="alternate"></link><link href="https://www.shenzhongqiang.com/feeds/pa-chong.atom.xml" rel="self"></link><id>https://www.shenzhongqiang.com/</id><updated>2019-01-13T00:00:00+08:00</updated><subtitle>技术 | 生活 | 摄影</subtitle><entry><title>从豆瓣的反爬说说自建代理池</title><link href="https://www.shenzhongqiang.com/douban-anticrawl-proxypool.html" rel="alternate"></link><published>2019-01-13T00:00:00+08:00</published><updated>2019-01-13T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2019-01-13:/douban-anticrawl-proxypool.html</id><summary type="html">&lt;p&gt;爬过豆瓣的同学应该都有过这样的经历，一开始爬取的过程挺正常的，但爬着爬着就不能获取到数据了。这是因为豆瓣对IP作了限制，如果短时间内来自同一个IP的请求太多 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;爬过豆瓣的同学应该都有过这样的经历，一开始爬取的过程挺正常的，但爬着爬着就不能获取到数据了。这是因为豆瓣对IP作了限制，如果短时间内来自同一个IP的请求太多，就会禁止来自这个IP的访问，我们的爬虫也就无法继续获取到数据了。&lt;/p&gt;
&lt;h4&gt;豆瓣的反爬&lt;/h4&gt;
&lt;p&gt;我们先来真实地感受一下豆瓣的反爬。假如我们有这样一个豆瓣的爬虫，这个爬虫是要爬取豆瓣上某几个标签页下的图书的数据（像下面这样的页面里的数据）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b8da186e8cd483330b0811a52bf5b73f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;爬虫的代码如下（这里只是为了展示豆瓣的反爬机制，代码作了简化）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/{}?start={}&amp;amp;type=T&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;#r = requests.get(url, headers=headers, verify=False, proxies={&amp;quot;https&amp;quot;: proxy})&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;title_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;info&amp;quot;]/h2/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;books&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SQL&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;数据分析&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;计算机&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tag&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;
            &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的爬虫会爬取SQL、数据分析和计算机这三个标签下的所有图书。每爬取一页数据，我们都会打印出HTTP返回码 r.status_code 和爬取到的图书的数量 len(items) 。&lt;/p&gt;
&lt;p&gt;我们在命令行窗口运行这个爬虫，可以看到这样的结果&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的输出表明爬取的页面都返回了HTTP 200，并且获取到了每一页里面的20条图书信息。&lt;/p&gt;
&lt;p&gt;但如果我们多运行几次程序后，结果就变成了下面这样了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;200 0
200 0
200 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;HTTP还是返回200的响应，但我们获取不到页面里的图书信息了，因为我们的爬虫被禁了。&lt;/p&gt;
&lt;p&gt;要解决爬虫被禁的问题，一个直观的思路就是使用代理池，每次爬取页面我们都使用不同的IP发出请求，这样就可以避免同一个IP频繁发出请求被禁的情况。&lt;/p&gt;
&lt;p&gt;代理按照是否匿名，大致可分成这样几类&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;透明代理&lt;/li&gt;
&lt;li&gt;匿名代理&lt;/li&gt;
&lt;li&gt;高匿代理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;透明代理在HTTP头里设置了你的真实IP，服务器可以通过HTTP头知晓你真实的IP。&lt;/p&gt;
&lt;p&gt;匿名代理虽然隐藏了你的真实IP，但服务器还是知道你使用了代理。&lt;/p&gt;
&lt;p&gt;高匿代理不仅隐藏了你的真实IP，而且让服务器无法发现你在使用代理，这是我们自建代理池的最佳的选择，我们下一步自建代理池的步骤中用到的也是高匿代理。&lt;/p&gt;
&lt;h4&gt;自建代理池&lt;/h4&gt;
&lt;p&gt;西刺代理（[]https://www.xicidaili.com/)）是一个提供免费代理的网站，他的首页是下面这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6ba145b7268323ff078be33b28149d95_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们通过爬取西刺上可用的免费高匿代理，来建立我们的代理池。&lt;/p&gt;
&lt;p&gt;爬取西刺高匿代理的代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;lxml&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_xici_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://www.xicidaili.com/nn/{}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tr_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//table[@id=&amp;quot;ip_list&amp;quot;]/tr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tr_node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tr_nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;td_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tr_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./td&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proxy_type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;{}://{}:{}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proto&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;ip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;uptime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;proxy_type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;高匿&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;proto&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的get_xici_proxy函数每次获取一个页面的代理。因为豆瓣图书的URL都是HTTPS的，所以我们这里只关心HTTPS的代理，上面的代码中我们筛选出高匿的并且是HTTPS的代理。&lt;/p&gt;
&lt;p&gt;爬下了免费代理以后，接下来，我们来验证一下这些代理是不是可用。我们通过代理去访问豆瓣的网页，测试代理的有效性。代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;https_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/SQL?start=20&amp;amp;type=T&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;proxies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;https_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们获取到这样几个有效的代理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# proxy文件内容&lt;/span&gt;
https://110.52.235.11:9999
https://119.101.114.44:9999
https://119.101.117.59:9999
https://112.85.129.162:9999
https://119.101.112.66:9999
https://119.101.117.72:9999
https://125.123.136.156:9999
https://119.101.112.210:9999
https://119.101.114.72:9999
https://119.101.112.202:9999
https://119.101.112.173:9999
https://119.101.112.251:9999
https://119.101.112.64:9999
https://119.101.114.103:9999
https://119.101.112.172:9999
https://119.177.210.163:9999
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们把上面测试有效的代理存入到一个叫proxy的文件中。&lt;/p&gt;
&lt;p&gt;接下来，我们实现一个Proxy类来获取这个列表中的代理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;_instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxyfile&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxyfile&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的Proxy是一个Singleton的类。get_proxy方法用于从代理列表中获取代理，每次使用一个代理，如果所有的代理都用过了，我们回到第一个代理，重新开始选择。&lt;/p&gt;
&lt;p&gt;好，到这里我们就建立我们自己的代理池，并且创建了一个获取代理的类Proxy。&lt;/p&gt;
&lt;p&gt;接下来我们修改我们之前豆瓣爬虫的代码，我们使用代理池中的代理来发出请求。我们将get_books_by_page函数修改成如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/{}?start={}&amp;amp;type=T&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;inst&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;proxy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inst&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_proxy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;title_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;info&amp;quot;]/h2/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;books&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们再次运行我们的豆瓣爬虫，可以看到如下的输出&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;现在爬虫又重新开始工作，可以获取到图书的信息了。&lt;/p&gt;
&lt;p&gt;通过这样的自建代理池，我们破解了豆瓣的反爬。不过需要注意的是，很多免费代理有效时间比较短，毕竟是免费的，稳定性没保障。大家获取免费代理后，还是要趁热尽快使用。如果要追求稳定性，建议大家还是使用付费代理。&lt;/p&gt;</content><category term="爬虫"></category></entry><entry><title>爬了下Unsplash上的高赞壁纸，总有一款适合你</title><link href="https://www.shenzhongqiang.com/unsplash-hd-wallpaper.html" rel="alternate"></link><published>2018-12-28T00:00:00+08:00</published><updated>2018-12-28T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-12-28:/unsplash-hd-wallpaper.html</id><summary type="html">&lt;p&gt;Unsplash是个高清摄影图片的网站，里面的照片非常精美，分辨率也很高，最重要的是，所有的照片都没有版权 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Unsplash是个高清摄影图片的网站，里面的照片非常精美，分辨率也很高，最重要的是，所有的照片都没有版权，无须向原作者申请授权，即可任意使用。&lt;/p&gt;
&lt;p&gt;最近闲暇的时候写了个爬虫爬了下Unsplash上的那些高赞的壁纸。爬虫原理非常简单，就是爬取所有的壁纸，然后筛选那些赞数最高的图片。代码比较简单，这里不作介绍，后面有获取方式。&lt;/p&gt;
&lt;p&gt;这里整理了80张赞数最高的壁纸。大家最喜欢哪一张呢，欢迎在评论里告诉我~&lt;/p&gt;
&lt;p&gt;所有原图已上传百度网盘，代码已上传github，可在公众号【Python与数据分析】后台回复unsplash获取。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2dbc8e87513975bc740a16809d7c9b68_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b3f7520ab44a3c243cebd0da4f9dfb15_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6a846643e8e7725c12004a59f73eb161_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-85bbf7ca411f6c036f916ee0a899c13e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;5.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-38d00f700d1f844200948a96bbf5bab4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;6.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-09e280831ce622279766f563b52660b9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;7.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5bb81b8b5f5fd23f33b490ed1ef7c2d4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;8.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9320713933b42a48fa38e39371c77465_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;9.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ef12d0d7fae98e6c65b62d9920f4270e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;10.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-bfbc096d7a87be44c2e78138b2ac1bc5_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;11.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5ac578e275ddfc8f35fa76d418e97d9a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;12.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-d1085ecde8cd27b89dfafe5090a5c921_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;13.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c73165f39bf6ac9e013912a5fc65d4be_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;14.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-8fb7bc373121891d0a07a256dc4670b8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;15.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-03695f7eba70fbdc4717492cb10547f1_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;16.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-7a8801834386a6e19096784ca4a9863e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;17.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f1be59ec6bbcfd07cc2483d751a3d2a4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;18.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-660216e0a14fedb4e8fabbf34643e95b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;19.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b5e745331441d820b4fa5e5d54485783_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;20.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5748010ab90d122ada8ced2bd86e5320_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;21.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-67accea4a8569cb60cd1287d863b6dc4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;22.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3ef2063a1572a613b15b0273ed0eb6b8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;23.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-846b2c1c5ffd98d33b2559e11f3cc680_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;24.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-08f36e382c705974d4ad00010bf274fe_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;25.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e1a332c3412d6257173e60166b77211e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;26.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f7883800bcf244c877fa5ad671831f8e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;27.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-00670248b6205aa926c401d55e123f96_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;28.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5b78c0cf3205e5e7d6152c601416aa44_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;29.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c486f843a35191041325b4d9dc6a1b5c_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;30.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-01e66bd7d34a620158edd212dc7380ec_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;31.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-71941913b9e9f2f2bafc73266e23ab90_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;32.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-551860e0f9d80ed192eef5e9b45c4d93_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;33.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6709d9a05ff5b2f6661041275768ef12_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;34.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-517c91ff0c401e9da427efb111669047_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;35.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-890d27662838e35d20ac9b94d15f49c9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;36.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9fb25ab6b2da1aff0df444f92ccb9a37_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;37.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-0d5b7a7054b7334765e77436683a7097_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;38.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-92f95eeff9c8ed0ad8265083eb00606a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;39.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b75b63adb6270df2031a445ef0b65a18_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;40.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3565137eaf45291b38de8a2624af4ac8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;41.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-04d77a00d032dd29a44ee038b158362a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;42.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-aceec4646c6bc14e93af82a9fec44af3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;43.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-155015b20d5e713f214985b41146d33e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;44.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2f57300ccd813b7707d85dde588ec4e4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;45.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-45247128238bcc26bedcc8858a59597c_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;46.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e467a2cae16a3183da556742a44eeda1_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;47.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2a199bb0ddf071bd9d5299bbbc2f33a7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;48.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f26422259e66d07edd139474b2c32358_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;49.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b909a7f1f6e8beaedeb4d788f8d4257d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;50.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6fe1be3b51606382f8208ce7b05021f2_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;51.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6e461434b355bb3ed19c31c715393c0a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;52.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-df063b05c7067cffd8283d2a88f64757_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;53.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f990f36392a589ffa0e7b64c390c13c9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;54.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-7ef27e24988c2c589682d22b865fd21a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;55.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-643a7f4dee01f23078f5cebba685180f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;56.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b96c4d07c0e0befad70ece95c91c59f4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;57.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f3824268bdd46428f280fe15c363de10_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;58.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a93a06f9787df52becee20e350719783_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;59.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-1dbb7cf821220e25b24a18a6e696c45f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;60.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5de55a4339a3ec902ff3a62ea878e260_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;61.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-aa5810b4e5af2e53d0150fe0c5f35e7d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;62.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e24251722c9b52f194c20dc7e9e6bc2b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;63.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-d3674b1a3c5b697441fb37201cc85713_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;64.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a903f1b705d8605d0bff3350abf92c06_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;65.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ee3e0c6424d2da3e24f6065ab4cb6aac_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;66.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-28e120d22da076c207d3f48aaa05a228_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;67.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6cd555bf222daa65df4016d12e235793_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;68.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-34327cb07b0a301a1243289ef94dd87b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;69.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-da0cc2cfbd936053cabed2d6753d2b5f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;70.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9b910dedd764e32a800d605f9a0ec55f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;71.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-72b1e9d33e3498d0993aa2d51896212d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;72.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-db2b3a0b916b1abf15b1621585199775_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;73.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5177e9315e8b2edbed7824554fcbb1f8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;74.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e3597b2e337adfaee849247780214b6a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;75.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-75d82c2e960f4205af8df3d57539dc16_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;76.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-81541aad6b9db777647f01e60a5eb780_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;77.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-36573a7d942582bb6882952d5adbd008_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;78.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ea3a98d67f3f1ce158fed17a73d22bd6_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;79.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-65c82e47c11562cd16682a226870281a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;80.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-748cdc99477cd8c8b3dfc346531713b7_r.jpg"&gt;&lt;/p&gt;</content><category term="爬虫"></category></entry></feed>